#ifndef UNISTDX_TEST_EXCEPTION
#define UNISTDX_TEST_EXCEPTION

#include <system_error>

#include <gtest/gtest.h>

#define UNISTDX_EXPECT_ERROR(errcond, src) \
	try { \
		src; \
	} catch (const ::std::system_error& err) { \
		EXPECT_EQ(errcond, std::errc(err.code().value())); \
	}

#endif // vim:filetype=cpp
