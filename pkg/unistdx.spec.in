Name:           @name@
Version:        @version@
Release:        @release@%{?dist}
Summary:        A library of C++ abstractions for libc

License:        @license@
URL:            https://igankevich.github.io/@name@/ 
Source0:        @name@-%{version}.tar.xz
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)

BuildRequires:  gcc-c++
BuildRequires:  gtest-devel
BuildRequires:  meson

%description
A library of C++ abstractions for libc.


%package        devel
Summary:        Development files for %{name}
Requires:       %{name}%{?_isa} = %{version}-%{release}

%description    devel
The %{name}-devel package contains libraries and header files for
developing applications that use %{name}.


%global debug_package %{nil}

%prep
%autosetup

%build
%meson
%meson_build

%install
%meson_install

%check
%meson_test

%post -p /sbin/ldconfig

%postun -p /sbin/ldconfig

%files
%defattr(0755,root,root,0755)
%{_libdir}/libunistdx.so.*

%files devel
%defattr(0644,root,root,0755)
%{_includedir}/unistdx
%{_libdir}/pkgconfig/unistdx.pc
%{_libdir}/libunistdx.so

%changelog
* Sat Jun 02 2018 Ivan Gankevich <igankevich@ya.ru> 0.2.2-1
Repackage with the new version number.
* Sat Feb 10 2018 Ivan Gankevich <igankevich@ya.ru> 3.1-1
Added build requirements.
* Sat Aug 19 2017 Ivan Gankevich <igankevich@ya.ru> 3.1-1
Update to the latest version of the library.
* Sun Sep 04 2016 Ivan Gankevich <igankevich@ya.ru> 0.1-1
Packaged everything.
